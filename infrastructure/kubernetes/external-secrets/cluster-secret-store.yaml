# ClusterSecretStore â€” AWS Secrets Manager
# Story: 0-7 Secret Management
# AC: 8,9 - ExternalSecrets Operator connects to AWS Secrets Manager
# Task 4.3
#
# Apply after installing ExternalSecrets Operator:
#   kubectl apply -f kubernetes/external-secrets/cluster-secret-store.yaml

apiVersion: external-secrets.io/v1beta1
kind: ClusterSecretStore
metadata:
  name: aws-secrets-manager
spec:
  provider:
    aws:
      service: SecretsManager
      region: us-east-1
      auth:
        jwt:
          serviceAccountRef:
            name: external-secrets-sa
            namespace: external-secrets
